import{E as k,a as B}from"./el-table.6a6cdbcb.js";import{e as C,d as T,E as $}from"./index.62446660.js";import{E as S}from"./el-button.92a13505.js";import{_ as D}from"./nuxt-link.6f436af1.js";import{a as G,_ as z}from"./layout.319c6f14.js";import"./base.3b6041b1.js";import"./el-checkbox.6871261b.js";import"./el-scrollbar.c180c2b0.js";/* empty css                */import"./el-tooltip.4ed993c7.js";import"./el-popper.8900ddb2.js";import{E as A}from"./el-overlay.a2dc8b58.js";import"./el-input.e77a37a1.js";import{E as w}from"./el-message.06914c70.js";import{u as F}from"./fetch.f81c4c70.js";import{p as M,s as N,r as P,o as c,c as V,e as o,f as t,u as m,h as n,t as l,k as g}from"./entry.587fe9c8.js";import"./aria.df81eabc.js";import"./_Uint8Array.2c2b73f6.js";import"./_initCloneObject.8938bb15.js";import"./el-card.5a69f647.js";import"./event.9519ab40.js";import"./vnode.a0635242.js";import"./validator.c72d01f1.js";import"./typescript.defaf979.js";import"./cookie.cf92e3e9.js";const I={key:0},K={key:1},pt=M({__name:"index",async setup(L){let r,d;const u=F(),h=([r,d]=N(()=>u.getAllSignGroup()),r=await r,d(),r),i=P(h),y=async(s,_)=>{try{await A.confirm("Это приведёт к удалению всех связанных признаков и товаров. Продолжить?","Внимание!",{cancelButtonText:"Отмена",confirmButtonText:"OK",type:"warning"});try{await u.deleteSignGroup(s),i.value=i.value.filter(a=>a.id!==s),w({type:"success",message:`Группа признаков "${_}" удалена`})}catch{w({type:"error",message:`При удалении признака "${_}" возникла ошибка`})}}catch{console.log("Удаление отменено")}};return(s,_)=>{const a=k,p=$,f=S,b=D,x=B,E=G,v=z;return c(),V(v,null,{default:o(()=>[t(E,{title:"Группы признаков",buttonText:"Добавить группу",buttonRoute:"/admin/signs/add"},{default:o(()=>[t(x,{data:m(i),style:{width:"100%"}},{default:o(()=>[t(a,{label:"Наименование"},{default:o(e=>[n("div",null,l(e.row.name),1)]),_:1}),t(a,{label:"Позиция",width:"110",align:"center"},{default:o(e=>[n("div",null,l(e.row.orderPosition),1)]),_:1}),t(a,{label:"Тип группы",width:"150",align:"center"},{default:o(e=>[n("div",null,l(e.row.part),1)]),_:1}),t(a,{label:"Тип полей",width:"120",align:"center"},{default:o(e=>[n("div",null,l(e.row.fieldsType),1)]),_:1}),t(a,{label:"Признаков",width:"140",align:"center"},{default:o(e=>[n("div",null,l(e.row.signs.length),1)]),_:1}),t(a,{label:"Неисправность",width:"150",align:"center"},{default:o(e=>[e.row.trouble?(c(),g("div",K,"Да")):(c(),g("div",I,"Нет"))]),_:1}),t(a,{width:"130"},{default:o(e=>[t(b,{to:`/admin/signs/${e.row.id}`},{default:o(()=>[t(f,{size:"small"},{default:o(()=>[t(p,null,{default:o(()=>[t(m(C))]),_:1})]),_:1})]),_:2},1032,["to"]),t(f,{class:"deleteProductBtn",size:"small",type:"danger",onClick:O=>y(e.row.id,e.row.name)},{default:o(()=>[t(p,null,{default:o(()=>[t(m(T))]),_:1})]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})}}});export{pt as default};
