import{E as b,a as h}from"./el-table.f8529865.js";import{e as w,d as C,E}from"./index.4edc3df1.js";import{E as v}from"./el-button.4b28c0d2.js";import{_ as g}from"./nuxt-link.856c34ed.js";import{a as B,_ as k}from"./layout.44602910.js";import"./base.2bb6cb54.js";import"./el-checkbox.2154bfa8.js";import"./el-scrollbar.1c121719.js";/* empty css                */import"./el-tooltip.4ed993c7.js";import"./el-popper.8acabd0f.js";import{u as D}from"./cookie.3290b875.js";import{p as N,r as P,s as $,o as z,c as A,e as o,f as t,u as s,h as V,t as I}from"./entry.18e2495c.js";import{n as L}from"./notify.451191a9.js";import"./fetch.90a3c0c3.js";import{g as R,d as S}from"./fetch-data.87f96ffe.js";import"./aria.e146d83a.js";import"./_Uint8Array.bec00609.js";import"./_initCloneObject.e22dfabd.js";import"./isEqual.da90e6c9.js";import"./el-card.c774d930.js";import"./event.9519ab40.js";import"./el-notification.7627f0c4.js";const T={style:{display:"flex","align-items":"center"}},mt=N({__name:"index",async setup(j){let a,_;const e=D("accessToken"),n=P([]);try{n.value=([a,_]=$(()=>R(e==null?void 0:e.value)),a=await a,_(),a)}catch{L({message:"Ошибка получения товаров"})}async function p(l){n.value=n.value.filter(i=>i.id!==l),await S(l,e==null?void 0:e.value)}return(l,i)=>{const m=b,c=E,d=v,u=g,f=h,x=B,y=k;return z(),A(y,null,{default:o(()=>[t(x,{title:"Товары",buttonText:"Добавить товар",buttonRoute:"/admin/products/add"},{default:o(()=>[t(f,{data:s(n),style:{width:"100%"}},{default:o(()=>[t(m,{label:"Наименование"},{default:o(r=>[V("div",T,I(r.row.name),1)]),_:1}),t(m,{label:"Управление",width:"130"},{default:o(r=>[t(u,{to:`/admin/products/${r.row.id}`},{default:o(()=>[t(d,{size:"small"},{default:o(()=>[t(c,null,{default:o(()=>[t(s(w))]),_:1})]),_:1})]),_:2},1032,["to"]),t(d,{class:"deleteProductBtn",size:"small",type:"danger",onClick:q=>p(r.row.id)},{default:o(()=>[t(c,null,{default:o(()=>[t(s(C))]),_:1})]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1})]),_:1})}}});export{mt as default};
